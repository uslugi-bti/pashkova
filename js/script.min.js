function testWebP(e){var o=new Image;o.onload=o.onerror=function(){e(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const body=document.querySelector("body"),productLinks=document.querySelectorAll(".products-item__button #product"),productPopups=document.querySelectorAll(".popup-product"),productPopupClose=document.querySelectorAll(".popup-product__close"),nameProduct=document.querySelectorAll(".popup-product__title h1"),openFormBuy=document.querySelectorAll(".popup-product__link #buy"),popupForm=document.querySelector(".form-popup"),headerLink=document.querySelector(".header__link #callback"),detailButton=document.querySelector(".fullscreen__link #detail"),targetDetail=document.querySelector(".goal");for(let e=0;e<productLinks.length;e++)productLinks[e].addEventListener("click",(function(o){body.classList.add("lock"),productPopups[e].classList.add("open"),o.preventDefault()}));for(let e=0;e<productPopups.length;e++)productPopups[e].addEventListener("click",(function(o){o.target.closest(".popup-product__body")||(body.classList.remove("lock"),productPopups[e].classList.remove("open"))}));document.addEventListener("keydown",(function(e){if(27==e.which){for(let e=0;e<productLinks.length;e++)body.classList.remove("open"),productPopups[e].classList.remove("open");body.classList.remove("lock"),popupForm.classList.remove("open"),document.querySelector(".form textarea").innerHTML=""}}));for(let e=0;e<openFormBuy.length;e++)openFormBuy[e].addEventListener("click",(function(o){body.classList.add("lock"),popupForm.classList.add("open"),o.preventDefault(),productPopups[e].classList.remove("open");let t=nameProduct[e].innerHTML;document.querySelector(".form textarea").innerHTML=`Хочу замовити товар "${t}"`}));popupForm.addEventListener("click",(function(e){e.target.closest(".form")||(body.classList.remove("lock"),popupForm.classList.remove("open"),document.querySelector(".form textarea").innerHTML="")})),headerLink.addEventListener("click",(function(e){body.classList.add("lock"),popupForm.classList.add("open"),e.preventDefault()})),detailButton.addEventListener("click",(function(e){targetDetail.scrollIntoView({behavior:"smooth"}),e.preventDefault()}));